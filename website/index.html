<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金融学习计划 - 12个月系统学习</title>
    
    <!-- 字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 样式 -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    
    <!-- 元标签 -->
    <meta name="description" content="12个月金融学习计划系统，包含财务报表、投资、风险管理等完整课程。">
    <meta name="keywords" content="金融学习,财务报表,投资,风险管理,学习计划">
    <meta name="author" content="Financial Learning Project">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="#home" class="logo">
                    <i class="fas fa-chart-line"></i>
                    <span>金融学习计划</span>
                </a>
            </div>
            
            <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="切换菜单" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="nav-menu" id="mobile-menu">
                <ul class="nav-list">
                    <li><a href="#home" class="nav-link active">首页</a></li>
                    <li><a href="#plan" class="nav-link">学习计划</a></li>
                    <li><a href="#materials" class="nav-link">学习材料</a></li>
                    <li><a href="#practice" class="nav-link">每日练习</a></li>
                    <li><a href="#tools" class="nav-link">学习工具</a></li>
                    <li><a href="#progress" class="nav-link">学习进度</a></li>
                </ul>
                
                <div class="nav-actions">
                    <button class="btn btn-outline theme-toggle" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                        <span>暗色模式</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容 -->
    <main>
        <!-- 首页英雄区域 -->
        <section id="home" class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">12个月金融学习计划</h1>
                    <p class="hero-subtitle">系统学习财务报表、投资分析、风险管理和金融建模</p>
                    <p class="hero-description">
                        这是一个完整的金融学习系统，包含12个月的学习计划，每周详细的学习材料，
                        每日练习题，以及实用的学习工具。无论你是金融初学者还是希望系统提升的专业人士，
                        这个计划都能帮助你建立坚实的金融知识体系。
                    </p>
                    <div class="hero-actions">
                        <a href="#plan" class="btn btn-primary">
                            <i class="fas fa-calendar-alt"></i>
                            查看学习计划
                        </a>
                        <a href="#practice" class="btn btn-secondary">
                            <i class="fas fa-pencil-alt"></i>
                            开始练习
                        </a>
                    </div>
                </div>
                <div class="hero-image">
                    <div class="image-placeholder">
                        <i class="fas fa-chart-bar"></i>
                        <p>金融学习可视化</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 学习计划展示 -->
        <section id="plan" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">12个月学习计划</h2>
                    <p class="section-subtitle">系统化的学习路径，从基础到高级</p>
                </div>
                
                <div class="plan-timeline">
                    <!-- 第1季度：基础 -->
                    <div class="plan-quarter">
                        <h3 class="quarter-title">第1季度：金融基础</h3>
                        <div class="quarter-months">
                            <div class="month-card">
                                <div class="month-header">
                                    <span class="month-number">第1个月</span>
                                    <span class="month-theme">财务报表基础</span>
                                </div>
                                <div class="month-content">
                                    <h4>学习重点：</h4>
                                    <ul>
                                        <li>资产负债表分析</li>
                                        <li>利润表理解</li>
                                        <li>现金流量表解读</li>
                                        <li>财务比率计算</li>
                                    </ul>
                                    <div class="month-status">
                                        <span class="status-badge status-in-progress">进行中</span>
                                        <span class="progress-text">0/4周</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="month-card">
                                <div class="month-header">
                                    <span class="month-number">第2个月</span>
                                    <span class="month-theme">投资基础</span>
                                </div>
                                <div class="month-content">
                                    <h4>学习重点：</h4>
                                    <ul>
                                        <li>复利计算</li>
                                        <li>风险与回报</li>
                                        <li>投资组合理论</li>
                                        <li>资产类别</li>
                                    </ul>
                                    <div class="month-status">
                                        <span class="status-badge status-pending">未开始</span>
                                        <span class="progress-text">0/4周</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="month-card">
                                <div class="month-header">
                                    <span class="month-number">第3个月</span>
                                    <span class="month-theme">公司金融</span>
                                </div>
                                <div class="month-content">
                                    <h4>学习重点：</h4>
                                    <ul>
                                        <li>资本预算</li>
                                        <li>资本结构</li>
                                        <li>股利政策</li>
                                        <li>企业估值</li>
                                    </ul>
                                    <div class="month-status">
                                        <span class="status-badge status-pending">未开始</span>
                                        <span class="progress-text">0/4周</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 第2季度：分析 -->
                    <div class="plan-quarter">
                        <h3 class="quarter-title">第2季度：金融分析</h3>
                        <div class="quarter-months">
                            <div class="month-card">
                                <div class="month-header">
                                    <span class="month-number">第4个月</span>
                                    <span class="month-theme">财务分析</span>
                                </div>
                                <div class="month-content">
                                    <h4>学习重点：</h4>
                                    <ul>
                                        <li>比率分析</li>
                                        <li>趋势分析</li>
                                        <li>同业比较</li>
                                        <li>杜邦分析</li>
                                    </ul>
                                    <div class="month-status">
                                        <span class="status-badge status-pending">未开始</span>
                                        <span class="progress-text">0/4周</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="month-card">
                                <div class="month-header">
                                    <span class="month-number">第5个月</span>
                                    <span class="month-theme">估值方法</span>
                                </div>
                                <div class="month-content">
                                    <h4>学习重点：</h4>
                                    <ul>
                                        <li>DCF估值</li>
                                        <li>相对估值</li>
                                        <li>实物期权</li>
                                        <li>并购估值</li>
                                    </ul>
                                    <div class="month-status">
                                        <span class="status-badge status-pending">未开始</span>
                                        <span class="progress-text">0/4周</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="month-card">
                                <div class="month-header">
                                    <span class="month-number">第6个月</span>
                                    <span class="month-theme">风险管理</span>
                                </div>
                                <div class="month-content">
                                    <h4>学习重点：</h4>
                                    <ul>
                                        <li>风险识别</li>
                                        <li>风险度量</li>
                                        <li>对冲策略</li>
                                        <li>衍生品</li>
                                    </ul>
                                    <div class="month-status">
                                        <span class="status-badge status-pending">未开始</span>
                                        <span class="progress-text">0/4周</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plan-cta">
                        <p>完整12个月计划已在Gitee仓库中提供：</p>
                        <a href="https://gitee.com/handora/financial_learning_project" target="_blank" class="btn btn-outline">
                            <i class="fab fa-gitee"></i>
                            查看完整计划
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 学习材料 -->
        <section id="materials" class="section bg-light">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">学习材料</h2>
                    <p class="section-subtitle">每周详细的学习内容和参考资料</p>
                </div>
                
                <div class="materials-grid">
                    <div class="material-card">
                        <div class="material-header">
                            <h3 class="material-title">第1周：财务报表基础</h3>
                            <span class="material-badge">基础</span>
                        </div>
                        <div class="material-content">
                            <p>学习资产负债表、利润表和现金流量表的基本概念和相互关系。</p>
                            <ul class="material-topics">
                                <li>会计等式：资产 = 负债 + 所有者权益</li>
                                <li>三大财务报表的结构</li>
                                <li>财务比率初步</li>
                                <li>报表间勾稽关系</li>
                            </ul>
                        </div>
                        <div class="material-actions">
                            <button class="btn btn-sm btn-primary material-link" data-week="week1">
                                <i class="fas fa-book-open"></i>
                                查看材料
                            </button>
                            <span class="material-meta">
                                <i class="far fa-clock"></i> 预计学习时间：5小时
                            </span>
                        </div>
                    </div>
                    
                    <div class="material-card">
                        <div class="material-header">
                            <h3 class="material-title">第2周：投资基础</h3>
                            <span class="material-badge">基础</span>
                        </div>
                        <div class="material-content">
                            <p>了解投资的基本概念，包括复利、风险回报关系和投资组合理论。</p>
                            <ul class="material-topics">
                                <li>复利计算和应用</li>
                                <li>风险与回报的权衡</li>
                                <li>现代投资组合理论</li>
                                <li>资产类别介绍</li>
                            </ul>
                        </div>
                        <div class="material-actions">
                            <button class="btn btn-sm btn-primary material-link" data-week="week2">
                                <i class="fas fa-book-open"></i>
                                查看材料
                            </button>
                            <span class="material-meta">
                                <i class="far fa-clock"></i> 预计学习时间：6小时
                            </span>
                        </div>
                    </div>
                    
                    <div class="material-card">
                        <div class="material-header">
                            <h3 class="material-title">第3周：财务比率分析</h3>
                            <span class="material-badge">中级</span>
                        </div>
                        <div class="material-content">
                            <p>深入学习财务比率，包括流动性、偿债能力、盈利能力和效率比率。</p>
                            <ul class="material-topics">
                                <li>流动性比率分析</li>
                                <li>偿债能力评估</li>
                                <li>盈利能力指标</li>
                                <li>运营效率衡量</li>
                            </ul>
                        </div>
                        <div class="material-actions">
                            <button class="btn btn-sm btn-primary" disabled>
                                <i class="fas fa-lock"></i>
                                即将开放
                            </button>
                            <span class="material-meta">
                                <i class="far fa-clock"></i> 预计学习时间：7小时
                            </span>
                        </div>
                    </div>
                    
                    <div class="material-card">
                        <div class="material-header">
                            <h3 class="material-title">第4周：现金流量分析</h3>
                            <span class="material-badge">中级</span>
                        </div>
                        <div class="material-content">
                            <p>深入分析现金流量表，理解经营、投资和融资活动现金流。</p>
                            <ul class="material-topics">
                                <li>经营活动现金流分析</li>
                                <li>投资活动现金流解读</li>
                                <li>融资活动现金流评估</li>
                                <li>自由现金流计算</li>
                            </ul>
                        </div>
                        <div class="material-actions">
                            <button class="btn btn-sm btn-primary" disabled>
                                <i class="fas fa-lock"></i>
                                即将开放
                            </button>
                            <span class="material-meta">
                                <i class="far fa-clock"></i> 预计学习时间：6小时
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="materials-cta">
                    <p>更多学习材料将在每周更新，请关注Gitee仓库：</p>
                    <a href="https://gitee.com/handora/financial_learning_project" target="_blank" class="btn btn-outline">
                        <i class="fab fa-gitee"></i>
                        访问完整材料
                    </a>
                </div>
            </div>
        </section>

        <!-- 每日练习 -->
        <section id="practice" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">每日练习</h2>
                    <p class="section-subtitle">通过练习巩固学习成果，检验理解程度</p>
                </div>
                
                <div class="practice-container">
                    <div class="practice-controls">
                        <div class="practice-selector">
                            <label for="practice-generator">
                                <i class="fas fa-filter"></i>
                                选择练习周次：
                            </label>
                            <select id="practice-generator" class="form-select">
                                <option value="week1" selected>第1周：财务报表基础</option>
                                <option value="week2">第2周：投资基础</option>
                                <option value="week3" disabled>第3周：财务比率分析（即将开放）</option>
                                <option value="week4" disabled>第4周：现金流量分析（即将开放）</option>
                            </select>
                        </div>
                        
                        <div class="practice-stats">
                            <div class="stat-item">
                                <i class="fas fa-check-circle"></i>
                                <span>已完成：<strong id="completed-count">0</strong>题</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-trophy"></i>
                                <span>正确率：<strong id="accuracy-rate">0%</strong></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="practice-card">
                        <div id="practice-container">
                            <!-- 练习内容将通过JavaScript动态生成 -->
                            <div class="practice-placeholder">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>正在加载练习题...</p>
                            </div>
                        </div>
                        
                        <div class="practice-actions">
                            <button class="btn btn-primary" id="check-answer">
                                <i class="fas fa-check"></i>
                                检查答案
                            </button>
                            <button class="btn btn-secondary" id="show-answer">
                                <i class="fas fa-eye"></i>
                                显示答案
                            </button>
                            <button class="btn btn-outline" id="next-practice">
                                <i class="fas fa-forward"></i>
                                下一题
                            </button>
                        </div>
                    </div>
                    
                    <div class="practice-tips">
                        <h4><i class="fas fa-lightbulb"></i> 练习提示：</h4>
                        <ul>
                            <li>每天至少完成3道练习题</li>
                            <li>仔细阅读题目和选项</li>
                            <li>查看答案解析加深理解</li>
                            <li>定期复习错题</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- 学习工具 -->
        <section id="tools" class="section bg-light">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">学习工具</h2>
                    <p class="section-subtitle">实用的工具帮助你更好地学习和应用金融知识</p>
                </div>
                
                <div class="tools-grid">
                    <div class="tool-card">
                        <div class="tool-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3 class="tool-title">复利计算器</h3>
                        <p class="tool-description">
                            计算投资在不同利率和期限下的复利收益，直观展示复利的力量。
                        </p>
                        <button class="btn btn-sm btn-outline" disabled>
                            <i class="fas fa-wrench"></i>
                            开发中
                        </button>
                    </div>
                    
                    <div class="tool-card">
                        <div class="tool-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <h3 class="tool-title">财务比率计算器</h3>
                        <p class="tool-description">
                            输入财务数据，自动计算流动性、偿债能力、盈利能力等关键比率。
                        </p>
                        <button class="btn btn-sm btn-outline" disabled>
                            <i class="fas fa-wrench"></i>
                            开发中
                        </button>
                    </div>
                    
                    <div class="tool-card">
                        <div class="tool-icon">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <h3 class="tool-title">投资组合模拟器</h3>
                        <p class="tool-description">
                            模拟不同资产配置的投资组合表现，理解分散化投资的效果。
                        </p>
                        <button class="btn btn-sm btn-outline" disabled>
                            <i class="fas fa-wrench"></i>
                            开发中
                        </button>
                    </div>
                    
                    <div class="tool-card">
                        <div class="tool-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <h3 class="tool-title">学习计划器</h3>
                        <p class="tool-description">
                            制定个性化学习计划，设置每日学习目标，跟踪完成情况。
                        </p>
                        <div class="goal-setter">
                            <div class="goal-input-group">
                                <input type="text" id="goal-input" class="form-input" placeholder="输入今日学习目标...">
                                <button class="btn btn-sm btn-primary" id="set-goal">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>
                            <div class="goal-display">
                                <i class="fas fa-bullseye"></i>
                                <span id="goal-display">完成第1周学习</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 学习进度 -->
        <section id="progress" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">学习进度</h2>
                    <p class="section-subtitle">跟踪你的学习进展，保持学习动力</p>
                </div>
                
                <div class="progress-dashboard">
                    <div class="progress-card">
                        <h3 class="progress-title">总体进度</h3>
                        <div class="progress-stats">
                            <div class="progress-item">
                                <div class="progress-info">
                                    <span class="progress-label">周进度</span>
                                    <span class="progress-value">0/12</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar" data-progress="weeks" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <div class="progress-text">0/12 周</div>
                            </div>
                            
                            <div class="progress-item">
                                <div class="progress-info">
                                    <span class="progress-label">天进度</span>
                                    <span class="progress-value">0/84</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar" data-progress="days" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <div class="progress-text">0/84 天</div>
                            </div>
                            
                            <div class="progress-item">
                                <div class="progress-info">
                                    <span class="progress-label">练习正确率</span>
                                    <span class="progress-value">0%</span>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar" data-progress="practice" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <div class="progress-text">0/0 正确</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="progress-card">
                        <h3 class="progress-title">学习日历</h3>
                        <div class="calendar-placeholder">
                            <i class="far fa-calendar-alt"></i>
                            <p>学习日历功能开发中</p>
                            <small>将显示每日学习记录和完成情况</small>
                        </div>
                    </div>
                    
                    <div class="progress-card">
                        <h3 class="progress-title">成就徽章</h3>
                        <div class="badges-container">
                            <div class="badge-item locked">
                                <div class="badge-icon">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <span class="badge-name">学习起步</span>
                                <small>完成第1周学习</small>
                            </div>
                            <div class="badge-item locked">
                                <div class="badge-icon">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <span class="badge-name">月度坚持</span>
                                <small>连续学习30天</small>
                            </div>
                            <div class="badge-item locked">
                                <div class="badge-icon">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <span class="badge-name">练习达人</span>
                                <small>完成100道练习</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="progress-actions">
                    <button class="btn btn-outline" onclick="exportProgress()" disabled>
                        <i class="fas fa-download"></i>
                        导出进度（开发中）
                    </button>
                    <button class="btn btn-outline" onclick="resetProgress()">
                        <i class="fas fa-redo"></i>
                        重置进度
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">金融学习计划</h3>
                    <p class="footer-description">
                        一个完整的12个月金融学习系统，帮助你系统掌握金融知识。
                    </p>
                    <div class="footer-social">
                        <a href="https://gitee.com/handora/financial_learning_project" target="_blank" class="social-link">
                            <i class="fab fa-gitee"></i>
                        </a>
                        <a href="#" class="social-link" disabled>
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#" class="social-link" disabled>
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle">快速链接</h4>
                    <ul class="footer-links">
                        <li><a href="#home">首页</a></li>
                        <li><a href="#plan">学习计划</a></li>
                        <li><a href="#materials">学习材料</a></li>
                        <li><a href="#practice">每日练习</a></li>
                        <li><a href="#tools">学习工具</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle">学习资源</h4>
                    <ul class="footer-links">
                        <li><a href="https://gitee.com/handora/financial_learning_project" target="_blank">完整学习计划</a></li>
                        <li><a href="#" disabled>学习指南</a></li>
                        <li><a href="#" disabled>常见问题</a></li>
                        <li><a href="#" disabled>学习社区</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-subtitle">关于项目</h4>
                    <p class="footer-about">
                        本项目是一个开源的学习资源，旨在帮助更多人系统学习金融知识。
                        所有内容免费提供，欢迎贡献和改进。
                    </p>
                    <div class="footer-license">
                        <i class="fas fa-balance-scale"></i>
                        <span>MIT License</span>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="copyright">
                    &copy; 2025 金融学习计划项目. 保留所有权利.
                </p>
                <p class="footer-note">
                    最后更新: 2025年1月11日 | 版本: 1.0.0
                </p>
            </div>
        </div>
    </footer>

    <!-- 学习材料查看器（模态框） -->
    <div class="material-viewer" id="material-viewer" style="display: none;">
        <div class="material-modal">
            <div class="material-modal-header">
                <h2 id="material-title">学习材料</h2>
                <button class="close-btn" id="close-material" aria-label="关闭">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="material-modal-content">
                <div id="material-content">
                    <!-- 学习材料内容将通过JavaScript动态加载 -->
                </div>
            </div>
            <div class="material-modal-footer">
                <button class="btn btn-outline" onclick="printMaterial()">
                    <i class="fas fa-print"></i>
                    打印材料
                </button>
                <button class="btn btn-primary" id="close-material-bottom">
                    <i class="fas fa-check"></i>
                    完成阅读
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/main.js"></script>
    
    <!-- 内联脚本用于简单功能 -->
    <script>
        // 重置进度函数
        function resetProgress() {
            if (confirm('确定要重置所有学习进度吗？此操作不可撤销。')) {
                localStorage.removeItem('userProgress');
                localStorage.removeItem('theme');
                location.reload();
            }
        }
        
        // 导出进度函数（占位符）
        function exportProgress() {
            alert('导出功能正在开发中...');
        }
        
        // 打印材料函数
        function printMaterial() {
            const materialContent = document.getElementById('material-content');
            if (materialContent) {
                const printWindow = window.open('', '_blank');
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>金融学习材料 - 打印版</title>
                        <style>
                            body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; }
                            h1, h2, h3 { color: #333; }
                            ul { margin-left: 20px; }
                            .print-header { border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
                            .print-footer { border-top: 1px solid #ccc; padding-top: 10px; margin-top: 30px; font-size: 12px; color: #666; }
                        </style>
                    </head>
                    <body>
                        <div class="print-header">
                            <h1>金融学习材料</h1>
                            <p>打印时间: ${new Date().toLocaleString('zh-CN')}</p>
                        </div>
                        ${materialContent.innerHTML}
                        <div class="print-footer">
                            <p>来源: 金融学习计划网站 | https://gitee.com/handora/financial_learning_project</p>
                        </div>
                    </body>
                    </html>
                `);
                printWindow.document.close();
                printWindow.focus();
                setTimeout(() => {
                    printWindow.print();
                }, 500);
            }
        }
        
        // 为底部关闭按钮添加事件
        document.addEventListener('DOMContentLoaded', function() {
            const closeBottomBtn = document.getElementById('close-material-bottom');
            if (closeBottomBtn) {
                closeBottomBtn.addEventListener('click', function() {
                    const materialViewer = document.getElementById('material-viewer');
                    if (materialViewer) {
                        materialViewer.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
            }
            
            // 更新练习统计
            function updatePracticeStats() {
                const userProgress = JSON.parse(localStorage.getItem('userProgress')) || {
                    totalPractice: 0,
                    correctAnswers: 0
                };
                
                const completedCount = document.getElementById('completed-count');
                const accuracyRate = document.getElementById('accuracy-rate');
                
                if (completedCount) {
                    completedCount.textContent = userProgress.totalPractice;
                }
                
                if (accuracyRate) {
                    const rate = userProgress.totalPractice > 0 
                        ? Math.round((userProgress.correctAnswers / userProgress.totalPractice) * 100)
                        : 0;
                    accuracyRate.textContent = rate + '%';
                }
            }
            
            // 初始更新
            updatePracticeStats();
            
            // 监听存储变化
            window.addEventListener('storage', updatePracticeStats);
        });
    </script>
</body>
</html>